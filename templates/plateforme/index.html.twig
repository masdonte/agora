{% extends 'base.html.twig' %}

{% block body %}
	<!-- page start-->
	<div class="col-sm-8">
		<section class="panel">
			<div class="chat-room-head">
				<h3>
					<i class="fa fa-angle-right"></i>
					Gérer les plateformes</h3>
			</div>
			<div class="panel-body">
				<table class="table table-striped table-advance table-hover">
					<thead>
						<tr class="tableau-entete">
							<th>
								<i class="fa fa-bullhorn"></i>Id
							</th>
							<th>
								<i class="fa fa-bookmark"></i>Libelle
							</th>
							<th>
								<i class="fa fa-gamepad"></i>Jeux Associés
							</th>
							<th></th>
						</tr>
					</thead>
					<tbody>
						{% for plateforme in plateformes %}
							<tr>
								<td>{{ plateforme.id }}</td>
								<td>{{ plateforme.lib }}</td>
								<td>
									{% set totalJeux = plateforme.getJeuxes()|length %}
									{% if totalJeux > 0 %}
										{% for jeu in plateforme.getJeuxes()|slice(0, 3) %}
											<span class="badge bg-info text-dark">{{ jeu.nom }}</span>
										{% endfor %}
										{% if totalJeux > 3 %}
											<span class="badge bg-secondary text-light">...</span>
										{% endif %}
									{% else %}
										<em>Aucun</em>
									{% endif %}
								</td>
								<td>
									<a href="{{ path('app_plateforme_show', {'id': plateforme.id}) }}">
										<button class="btn btn-primary btn-xs">
											<i class="fa fa-tasks"></i>
										</button>
									</a>
									<a href="{{ path('app_plateforme_edit', {'id': plateforme.id}) }}">
										<button class="btn btn-primary btn-xs">
											<i class="fa fa-pencil"></i>
										</button>
									</a>
								</td>
							</tr>
						{% else %}
							<tr>
								<td colspan="3">Aucune plateforme enregistrée dans la base de données</td>
							</tr>
						{% endfor %}
					</tbody>
				</table>
				<a href="{{ path('app_plateforme_new') }}">
					<button class="btn btn-primary
							btn-xs">
						<i class="fa fa-plus"></i>
					</button>
				</a>
			</div>
			<!-- fin div panel-body-->
		</section>
		<!-- fin section plateforme-->
	</div>
	<!--fin div col-sm-8-->
{% endblock %}
